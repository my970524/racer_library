{% extends 'base.html' %}

{% block customCss %}
  <link rel="stylesheet" href="{{ url_for ('static', filename='./custom/login.css') }}">
{% endblock %}

{% block scripts %}
  <script>
    function login() {
      let email = $("#email").val()
      let pwd = $("#pwd").val()

      $.ajax({
        url: '/login',
        type: 'post',
        data: {
          'email': email,
          'pwd': pwd
        },
        success: function(res) {
          if(res['result'] == 'success') {
            alert('ë¡œê·¸ì¸ ì„±ê³µ!ğŸ‘')
            window.location.href = '/'
          } else if(res['result'] == 'fail'){
            alert('ë¹„ë°€ë²ˆí˜¸ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.ğŸ§')
          } else {
            alert('ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ì‚¬ìš©ì ì…ë‹ˆë‹¤.ğŸ˜…')
          }
        }
      })
    }
  </script>
{% endblock %}

{% block content %}
  <div class="container">
    <h1>Welcome to Racer Library</h1>
    <p>ë ˆì´ì„œ ë„ì„œê´€ì„ ì´ìš©í•˜ì‹œë ¤ë©´ ë¡œê·¸ì¸ í•´ì£¼ì„¸ìš”</p>
    <form class="was-validated">
      <div class="form-group">
        <input type="email" class="form-control" id="email" placeholder="Enter email" name="email" required>
        <div class="valid-feedback">Valid.</div>
        <div class="invalid-feedback">Please fill out this field.</div>
      </div>
      <div class="form-group">
        <input type="password" class="form-control" id="pwd" placeholder="Enter password" name="pwd" required>
        <div class="valid-feedback">Valid.</div>
        <div class="invalid-feedback">Please fill out this field.</div>
      </div>
    </form>
    <button onclick=login() class="btn btn-warning">Login</button>
    <p>ì•„ì§ íšŒì›ì´ ì•„ë‹ˆë¼ë©´ íšŒì›ê°€ì… í›„ ì´ìš©í•´ ì£¼ì„¸ìš”</p>
    <a href="register" class="btn btn-warning">Sign Up</a>
  </div>
{% endblock %}